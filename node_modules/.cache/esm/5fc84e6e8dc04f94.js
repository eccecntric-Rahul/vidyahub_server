let student,enrollmentModel,feeModel;_8dc‍.x([["enrollment",()=>enrollment],["fee",()=>fee],["default",()=>_8dc‍.o]]);_8dc‍.w("../model/studentModel",[["default",["student"],function(v){student=v}]]);_8dc‍.w("../model/EnrollmentModel",[["default",["enrollmentModel"],function(v){enrollmentModel=v}]]);_8dc‍.w("../model/feeModel",[["default",["feeModel"],function(v){feeModel=v}]]);


const register= async (req,res)=>
{
    try{
        let data= req.fields;
        let studentmodel = new student(data);
        studentmodel.save((err,result)=>{
            if(err){
                _8dc‍.g.console.log("error saving student",err);
                res.status(400).send("error saving");
                
            }
            res.json(result);
        });
    }catch(err){
        _8dc‍.g.console.log(err);
        res.status(400).json({
            err: err.message,
        });
    }
}
       const enrollment =async (req,res)=>{
    if(!req.fields.name)return res.status(400).send("name is required");
    if(!req.fields.phoneNo)return res.status(400).send("Phone no is required");
    const enroll= new enrollmentModel(req.fields);
    enroll.save((err,result)=>{
        if(err)
        {   _8dc‍.g.console.log(err);
             res.status(400).send("err saving")}
        res.json(result);
    });
    
}

       const fee= async (req,res)=>{
    const list =JSON.parse( req.fields.list);
    _8dc‍.g.console.log(req.fields);
    req.fields.list= list;
    // console.log(list);
    const fee= new feeModel(req.fields);
    
    fee.save((err,result)=>{
        if(err)
        {   _8dc‍.g.console.log(err);
             res.status(400).send("err saving")}
        res.json(result);
    });
}
_8dc‍.d(register);