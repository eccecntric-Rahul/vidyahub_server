let AdmissionModel,feeModel;_8d9‍.x([["default",()=>_8d9‍.o]]);_8d9‍.w("../model/AdmissionModel",[["default",["AdmissionModel"],function(v){AdmissionModel=v}]]);_8d9‍.w("../model/feeModel",[["default",["feeModel"],function(v){feeModel=v}]]);

const admission = async (req,res)=>{
    // console.log(req.fields);
    const defaultAmount=0;
    var admissionResult,feeResult;
        if(!req.fields.emailAdd) return res.status(400).send("email is required");
        try { const student = await new AdmissionModel(req.fields);
              
            student.save((err,admissionResult)=>{
            if(err){
                _8d9‍.g.console.log("error saving student",err);
                res.status(400).send("error saving admission model");
                
            }
            
        });
        const fee = await new feeModel({name:req.fields.name,
            emailAdd:req.fields.emailAdd,status:req.fields.fee ,amount:defaultAmount});
                fee.save((err,feeResult)=>{
                    if(err){
                        _8d9‍.g.console.log(err);
                        res.status(400).send("error saving fee model");
                    }
                    res.json({admissionResult,feeResult});
                });
    

    }catch(err){
        _8d9‍.g.console.log(err);
        res.send("error saving");
    }
   }



_8d9‍.d(admission);